<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Reference - simple_calculus</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <h1>simple_calculus</h1>
        <p class="tagline">Complete API Reference</p>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">Overview</a></li>
            <li><a href="quick.html">Quick API</a></li>
            <li><a href="user-guide.html">User Guide</a></li>
            <li><a href="#main-classes">API Reference</a></li>
            <li><a href="architecture.html">Architecture</a></li>
            <li><a href="cookbook.html">Cookbook</a></li>
            <li><a href="https://github.com/simple-eiffel/simple_calculus">GitHub</a></li>
        </ul>
    </nav>

    <main>
        <section id="main-classes">
            <h2>Main Classes</h2>

            <h3>SIMPLE_CALCULUS</h3>
            <p>Main facade class providing three-tier API for derivatives, integrals, and partial derivatives.</p>

            <h4>Tier 1 Features (Simple API)</h4>
            <table>
                <thead>
                    <tr><th>Feature</th><th>Signature</th><th>Returns</th></tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>derivative</strong></td>
                        <td>derivative (f: FUNCTION [REAL_64, REAL_64]; x: REAL_64)</td>
                        <td>REAL_64</td>
                    </tr>
                    <tr>
                        <td><strong>integrate</strong></td>
                        <td>integrate (f: FUNCTION [REAL_64, REAL_64]; a, b: REAL_64)</td>
                        <td>REAL_64</td>
                    </tr>
                    <tr>
                        <td><strong>partial_derivative</strong></td>
                        <td>partial_derivative (f: FUNCTION [ARRAY [REAL_64], REAL_64]; point: ARRAY [REAL_64]; var_index: INTEGER)</td>
                        <td>REAL_64</td>
                    </tr>
                    <tr>
                        <td><strong>gradient</strong></td>
                        <td>gradient (f: FUNCTION [ARRAY [REAL_64], REAL_64]; point: ARRAY [REAL_64])</td>
                        <td>ARRAY [REAL_64]</td>
                    </tr>
                </tbody>
            </table>

            <h4>Tier 2 Features (Advanced API)</h4>
            <table>
                <thead>
                    <tr><th>Feature</th><th>Signature</th><th>Returns</th></tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>derivative_with_options</strong></td>
                        <td>derivative_with_options (f; x; method: INTEGER; tolerance: REAL_64)</td>
                        <td>DERIVATIVE_RESULT</td>
                    </tr>
                    <tr>
                        <td><strong>integrate_with_options</strong></td>
                        <td>integrate_with_options (f; a, b; method: INTEGER; tolerance: REAL_64)</td>
                        <td>INTEGRAL_RESULT</td>
                    </tr>
                </tbody>
            </table>

            <h4>Tier 3 Features (Expert API)</h4>
            <table>
                <thead>
                    <tr><th>Feature</th><th>Returns</th></tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>create_derivative_calculator</strong></td>
                        <td>DERIVATIVE_CALCULATOR</td>
                    </tr>
                    <tr>
                        <td><strong>create_integral_calculator</strong></td>
                        <td>INTEGRAL_CALCULATOR</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="result-classes">
            <h2>Result Classes</h2>

            <h3>DERIVATIVE_RESULT</h3>
            <p>Immutable result object from derivative computation (Tier 2).</p>
            <h4>Features</h4>
            <ul>
                <li><strong>value: REAL_64</strong> — Computed derivative</li>
                <li><strong>error_bound: REAL_64</strong> — Estimated absolute error</li>
                <li><strong>convergence_status: INTEGER</strong> — Status (converged/warning/failed)</li>
                <li><strong>is_converged: BOOLEAN</strong> — All methods agree?</li>
                <li><strong>is_warning: BOOLEAN</strong> — Two methods agree?</li>
                <li><strong>is_failed: BOOLEAN</strong> — All methods disagree?</li>
            </ul>

            <h3>INTEGRAL_RESULT</h3>
            <p>Immutable result object from integral computation (Tier 2).</p>
            <h4>Features</h4>
            <ul>
                <li><strong>value: REAL_64</strong> — Computed integral</li>
                <li><strong>error_bound: REAL_64</strong> — Estimated error</li>
                <li><strong>iterations: INTEGER</strong> — Refinement iterations performed</li>
                <li><strong>is_accurate: BOOLEAN</strong> — Error bound < 1e-5?</li>
            </ul>
        </section>

        <section id="engine-classes">
            <h2>Engine Classes (Tier 3)</h2>

            <h3>DERIVATIVE_CALCULATOR</h3>
            <p>Expert engine for numerical differentiation.</p>
            <h4>Methods</h4>
            <ul>
                <li><strong>forward_difference (f, x): REAL_64</strong> — Forward difference</li>
                <li><strong>backward_difference (f, x): REAL_64</strong> — Backward difference</li>
                <li><strong>central_difference (f, x): REAL_64</strong> — Central difference (most accurate)</li>
                <li><strong>compute_with_comparison (f, x, tolerance): DERIVATIVE_RESULT</strong> — All three with comparison</li>
                <li><strong>partial_derivative (f, point, var_index, tolerance): REAL_64</strong> — Partial derivative</li>
            </ul>

            <h3>INTEGRAL_CALCULATOR</h3>
            <p>Expert engine for numerical integration.</p>
            <h4>Methods</h4>
            <ul>
                <li><strong>trapezoidal (f, a, b, num_intervals): REAL_64</strong> — Simple trapezoidal rule</li>
                <li><strong>simpson (f, a, b, num_intervals): REAL_64</strong> — Simpson's rule (requires even intervals)</li>
                <li><strong>compute_adaptive (f, a, b, tolerance): INTEGRAL_RESULT</strong> — Adaptive refinement</li>
            </ul>
        </section>

        <section id="utility-classes">
            <h2>Utility Classes</h2>

            <h3>CONVERGENCE_STATUS</h3>
            <p>Status enumeration for derivative convergence.</p>
            <ul>
                <li><strong>converged: INTEGER = 0</strong> — All three methods agree</li>
                <li><strong>warning: INTEGER = 1</strong> — Two methods agree, one differs</li>
                <li><strong>failed: INTEGER = 2</strong> — All methods disagree significantly</li>
                <li><strong>to_string (status: INTEGER): STRING</strong> — Convert to readable string</li>
            </ul>

            <h3>STEP_SIZE_CALCULATOR</h3>
            <p>Computes adaptive step size for numerical differentiation.</p>
            <h4>Methods</h4>
            <ul>
                <li><strong>compute_step_size (x: REAL_64): REAL_64</strong> — h = sqrt(ε) × max(|x|, 1.0)</li>
                <li><strong>compute_step_size_with_magnitude (x, f_magnitude: REAL_64): REAL_64</strong> — With explicit magnitude</li>
            </ul>

            <h3>CONVERGENCE_ANALYZER</h3>
            <p>Analyzes convergence of three-method comparison.</p>
            <h4>Methods</h4>
            <ul>
                <li><strong>analyze (fwd, bwd, cent, tolerance: REAL_64): CONVERGENCE_RESULT</strong> — Compare three methods</li>
            </ul>
        </section>

        <section id="contracts">
            <h2>Design by Contract</h2>
            <p>
                All features are fully specified with Design by Contract (DBC).
                Preconditions validate input correctness, postconditions guarantee output properties.
            </p>

            <h3>Common Preconditions</h3>
            <ul>
                <li><strong>f_not_void</strong> — Function argument must not be Void</li>
                <li><strong>x_valid</strong> — Argument must not be NaN</li>
                <li><strong>a_less_b</strong> — Integral bounds: a < b required</li>
                <li><strong>tolerance_positive</strong> — Tolerance must be > 0</li>
            </ul>

            <h3>Common Postconditions</h3>
            <ul>
                <li><strong>result_not_nan</strong> — Result is a valid number (not NaN)</li>
                <li><strong>result_positive</strong> — Result > 0 (for step sizes, error bounds)</li>
                <li><strong>error_non_negative</strong> — Error estimates >= 0</li>
            </ul>
        </section>

        <footer>
            <p>&copy; 2026 Simple Eiffel Contributors. MIT License.</p>
            <p><a href="https://github.com/simple-eiffel/simple_calculus">View on GitHub</a></p>
        </footer>
    </main>
</body>
</html>
